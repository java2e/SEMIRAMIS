<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fcore="http://java.sun.com/jsf/core">
<h:head>
	<meta name="viewport" content="width=980,initial-scale=0.5"></meta>
	<link href="kasaStyle.css" rel="stylesheet" type="text/css" media="screen" />
<!-- 	<h:outputStylesheet library="css" name="muhammetLogin/kasa-stil/animate.min.css"/> -->
<!-- 	<h:outputStylesheet library="css" name="muhammetLogin/kasa-stil/bootstrap.min.css"/> -->
<!-- 	<h:outputStylesheet library="css" name="muhammetLogin/kasa-stil/custom.css"/> -->
<!-- 	<h:outputStylesheet library="css" name="muhammetLogin/kasa-stil/font-awesome.css"/> -->
<!-- 	<h:outputStylesheet library="css" name="muhammetLogin/kasa-stil/green.css"/> -->
<!-- 	<h:outputScript library="js" name="muhammetLogin/kasa-stil/jquery.min.js"/> -->
<!-- 	<h:outputScript library="js" name="muhammetLogin/kasa-stil/pnotify.buttons.js"/> -->
<!-- 	<h:outputScript library="js" name="muhammetLogin/kasa-stil/pnotify.core.js"/> -->
<!-- 	<h:outputScript library="js" name="muhammetLogin/kasa-stil/pnotify.nonblock.js"/> -->
	


</h:head>	
<h:body>
	<div id="main">

		<div id="header" style="background-image: url('img/back_2.png');">

			<div id="header2" style="background-image: url('img/back_1.png');">
				<img src="img/sasa_duvar.png" height="80" width="400"
					style="margin-top: 10px; margin-left: 50px;" />
			</div>
			<div id="message" style="background-color: transparent !important">


				<div style="width: 50px; height: 70px; float: right;">
				
				</div>


				<div style="margin-left: 20px; float: right;">
					<h3>Yetkili Kullanıcı</h3>
					<h4>ALİ</h4>
				</div>

				<div style="width: 70px; height: 70px; float: right;">
					<img src="img/SasaUser.png" width="70" height="70" />
				</div>


			</div>
			<div class="saat">
				<p:clock pattern="HH:mm:ss dd.MM.yyyy" mode="server" autoSync="true"
					syncInterval="600000" />
			</div>
			<div class="logo"></div>
		</div>




<div id="wrapper">
	<h:form id="formMsgs">
			<p:growl id="msgs" showDetail="true" />
		</h:form>
<h:form id="kasaForm">
	<div>
	

		<p:panel style=" border-style: hidden !important;">
			<p:panelGrid style=" border-style: hidden !important;" >
				<p:row>
						<p:column>
						
							<p:panel header="KASA İŞLEMLERİ" style="min-width:300px; min-height:350px;  text-align:center">
						
						<p:commandButton style="width:250px;height:95px; top:25px" value="TAHSİLAT YAP" onclick="PF('frmtahsilatyap').show();"/>
						
						<p:commandButton style="width:250px;height:95px; top:65px" value="REDDİYAT YAP" onclick="PF('frmreddiyatyap').show();"/>
						
						
					 
							</p:panel>
							
						</p:column>
						<p:column>
							<p:panel header="KASA RAPORLARI" style="width:500px; height:350px; text-align:center;">
						<p:panelGrid columns="2">
									<p:panel style=" border-style: hidden !important;width:260px" header="AYLIK RAPOR">
									<p:panelGrid  style=" border-style: hidden !important; text-align:center; height:100%" columns="1">
									<p:outputPanel style="color:red">#{kasaBean.ay}</p:outputPanel>
									<p:panelMenu>
										<p:submenu label="HSBC     : #{kasaBean.hsbc_aylik1}" style="color:red;"><p:menuitem>1.</p:menuitem><p:menuitem>2.</p:menuitem> </p:submenu>
										<p:submenu label="AKBANK   : #{kasaBean.akbank_aylik1}" style="color:red"><p:menuitem>1.</p:menuitem><p:menuitem>2.</p:menuitem> </p:submenu>
										<p:submenu label="GARANTİ  : #{kasaBean.garanti_aylik1}" style="color:red"><p:menuitem>1.</p:menuitem><p:menuitem>2.</p:menuitem> </p:submenu>
										<p:submenu label="DİĞER    : #{kasaBean.ing_aylik1}" style="color:red"><p:menuitem>1.</p:menuitem><p:menuitem>2.</p:menuitem> </p:submenu>
									
									</p:panelMenu>
									
									</p:panelGrid>
									</p:panel>
									
									<p:panel style=" border-style: hidden !important;"  header="GÜNLÜK RAPOR"> 
									<p:panelGrid  style=" border-style: hidden !important; text-align:center; height:100%" columns="1">
									
									<p:clock pattern="dd.MM.yyyy" mode="server" autoSync="true"	syncInterval="600000" />
								
									<p:outputLabel>HSBC A.Ş.      : #{kasaBean.hsbc_gunluk1}</p:outputLabel>
									<p:outputLabel>AKBANK  A.Ş.   : #{kasaBean.akbank_gunluk1}</p:outputLabel>
									<p:outputLabel>GARANTİ A.Ş.   : #{kasaBean.garanti_gunluk1}</p:outputLabel>
									<p:outputLabel>DİĞER A.Ş.     : #{kasaBean.ing_gunluk1}</p:outputLabel>
									
									</p:panelGrid>
									</p:panel>
						</p:panelGrid>
						</p:panel>
						</p:column>
						<p:column rowspan="2">
						
							<p:panel header="KASA İŞLEMLERİ LİSTESİ" style="min-width:850px; min-height:700px; border-style: hidden !important;text-align:center;">
							<p:outputLabel value="BAŞLANGIÇ TARİHİ :"/> <p:calendar id="multi"  pages="3" value="#{kasaBean.baslangicTarihi}" >
																  		<p:ajax event="dateSelect" update=":kasaForm"/>
																		</p:calendar>    
							<p:outputLabel value="    BİTİŞ TARİHİ :"/> <p:calendar id="multi1"  pages="3" value="#{kasaBean.bitisTarihi}" >
																		<p:ajax event="dateSelect" update=":kasaForm" />
																		</p:calendar>
					
					
						<p:tabView>
						<p:tab title="Aktif Ödeme Sözleri">
							
							<p:dataTable 	
					value="#{kasaBean.tahsilatYapilacakListe}"
					filteredValue="#{kasaBean.tahsilatYapilacakListe}"
					emptyMessage="Aradığınız Kritere Uygun Sonuç Bulunamamıştır."
					var="hb"		
					id="tblaktifodeme" style="width:100% "
					rowStyleClass="green"
					rows="15"
					paginator="true"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="5,10,25,50,100,1000">
				
					<p:column headerText="Seç" width="10%" >
					<p:commandButton value="Seç" type="Button" actionListener="#{icradosyaislemleribean.GelismisListe(hb.icraDosyaID)}"
					action="#{kasaBean.TahsilatAktar(hb.fromID)}"
					update=":tahsilatyap"/>
					</p:column>
				
				<p:column headerText="Borçlu Adı" width="30%" >
					<h:outputText value="#{hb.borcluAdi}" />
				</p:column>

				<p:column headerText="İcra Dosya No" width="10%">
					<h:outputText value="#{hb.icraDosyaNo}" />
				</p:column>

				<p:column headerText="Tarih" width="15%" >
				<h:outputText value="#{hb.tarih}" />
				</p:column>

				<p:column headerText="Personel" width="25%"  >
					<h:outputText value="#{hb.personelAdi}" />
				</p:column>
				
				<p:column headerText="Ödenecek Tutar" width="10%" >
				<h:outputText value="#{hb.odemeMiktariTL}" />
				</p:column>

				
				
			
				
			</p:dataTable>
							
							
						</p:tab>
						<p:tab title="Tahsilatı Yapılmış">
					
			<p:dataTable value="#{kasaBean.tahsilatYapilmisListe}"	filteredValue="#{kasaBean.tahsilatYapilmisListe}"
					emptyMessage="Aradığınız Kritere Uygun Sonuç Bulunamamıştır." var="hb" id="tblodenmisler" style="width:100% "
					rowStyleClass="green" rows="15"	paginator="true"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="15,25,50,100,1000"	>
			
			<p:column headerText="İcra Dosya No" width="10%">
					<h:outputText value="#{hb.icraDosyaNo}" />
			</p:column>
			
			<p:column headerText="Muvekkil Adı" width="15%" >
				<h:outputText value="#{hb.muvekkilAdi}" />
			</p:column>
			
			<p:column headerText="Borçlu Adı" width="30%" >
					<h:outputText value="#{hb.borcluAdi}" />
			</p:column>
			<p:column headerText="Tahsilat Tarihi" width="16%" >
				<h:outputText value="#{hb.tahsilatTarihi}" />
			</p:column>
			
			<p:column headerText="Tahsilat Miktarı" width="12%"  >
					<h:outputText value="#{hb.tahsilatMiktariTL}" />
			</p:column>
			</p:dataTable>
							
						
						
						
						</p:tab>
						<p:tab title="Reddiyatı Yapılmış">
						
						<p:dataTable value="#{kasaBean.reddiyatYapilmisListe}"	filteredValue="#{kasaBean.reddiyatYapilmisListe}"
					emptyMessage="Aradığınız Kritere Uygun Sonuç Bulunamamıştır." var="hb" id="tblreddiyat" style="width:100% "
					rowStyleClass="green" rows="15"	paginator="true"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="15,25,50,100,1000"	>
			
			<p:column headerText="İcra Dosya No" width="10%">
					<h:outputText value="#{hb.icraDosyaNo}" />
			</p:column>
			
			
			<p:column headerText="Borçlu Adı" width="30%" >
					<h:outputText value="#{hb.borcluAdi}" />
			</p:column>
			
			<p:column headerText="Muvekkil" width="5%" >
				<h:outputText value="#{hb.muvekkilReddiyatTutarTL}" />
			</p:column>
			<p:column headerText="Sasa" width="5%" >
				<h:outputText value="#{hb.sasaReddiyatTutarTL}" />
			</p:column>
			<p:column headerText="Devlet" width="5%" >
				<h:outputText value="#{hb.devletReddiyatTuttarTL}" />
			</p:column>
			
		</p:dataTable>
						
						
						
						
						</p:tab>
						<p:tab title="Pasif Ödeme Sözleri">
						
									<p:dataTable 	
					value="#{kasaBean.tahsilatiGecmisListe}"
					filteredValue="#{kasaBean.tahsilatiGecmisListe}"
					emptyMessage="Aradığınız Kritere Uygun Sonuç Bulunamamıştır."
					var="hb"		
					id="tblpasifodeme" style="width:100% "
					rowStyleClass="green"
					rows="15"
					paginator="true"
                    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                    rowsPerPageTemplate="5,10,25,50,100,1000"
					
					>
				
					<p:column headerText="Seç" width="10%" >
					  <p:commandButton value="Seç" type="Button" action="#{icradosyaislemleribean.GelismisListe(hb.icraDosyaID)}"
						actionListener="#{kasaBean.TahsilatAktar(hb.fromID)}"
						update=":tahsilatyap"
						/>
					  
					</p:column>
				
				<p:column headerText="Borçlu Adı" width="30%" >
					<h:outputText value="#{hb.borcluAdi}" />
				</p:column>

				<p:column headerText="İcra Dosya No" width="10%">
					<h:outputText value="#{hb.icraDosyaNo}" />
				</p:column>

				<p:column headerText="Tarih" width="15%" >
				<h:outputText value="#{hb.tarih}" />
				</p:column>

				<p:column headerText="Personel" width="25%"  >
					<h:outputText value="#{hb.personelAdi}" />
				</p:column>
				
				<p:column headerText="Ödenecek Tutar" width="10%" >
				<h:outputText value="#{hb.odemeMiktariTL}" />
				</p:column>

				
				
			
				
			</p:dataTable>
						
						
						
						
						</p:tab>
						
						</p:tabView>
				
							
							</p:panel>
						</p:column>
								
				</p:row>
				<p:row>
						<p:column>
						 	<p:panel header="BEKLEYEN - ONAYDAN GELENLER" style="min-width:300px; min-height:350px; text-align:center;">
						
						<p:commandButton style="width:135px;height:65px; top:25px" value="BEKLEYEN - HİTAM" onclick="PF('hitambekleme').show();"/>
						<p:commandButton style="width:135px;height:65px; top:25px" value="BEKLEYEN - REDDİYAT" onclick="PF('reddiyatbekleme').show();"/>
						<p:commandButton style="width:135px;height:65px; top:17px" value="BEKLEYEN - TAHSİLAT MAKBUZU" onclick="PF('tahsilatmakbuzbekleme').show();"/>
						<p:commandButton style="width:135px;height:65px; top:25px" value="BEKLEYEN - İNDİRİM" onclick="PF('indirimbekleme').show();"/>
													
						<p:commandButton style="width:135px;height:65px; top:25px" value="ONAYLANMIŞ - HİTAM" onclick="PF('hitamonaylanan').show();"/>
						<p:commandButton style="width:135px;height:65px; top:25px" value="ONAYLANMIŞ - REDDİYAT" onclick="PF('reddiyatonaylanan').show();"/>
						<p:commandButton style="width:135px;height:65px; top:17px" value="ONAYLANMIŞ - TAHSİLAT MAKBUZU" onclick="PF('tahsilatmakbuzonaylanan').show();"/>
						<p:commandButton style="width:135px;height:65px; top:25px" value="ONAYLANMIŞ - İNDİRİM" onclick="PF('indirimonaylanan').show();"/>
							</p:panel>
						</p:column>
						<p:column>
						
<!-- 							<p:panel header="REDDİYAT BEKLEYENLER" style="width:500px; height:350px; text-align:center;"> -->
									
						<p:carousel value="#{kasaBean.reddiyatListesi}" headerText="REDDİYAT LİSTESİ" var="kasa" 
						itemStyle="text-align:left" responsive="false"  numVisible="2" style="width:480px; top:2px; height:345px">
        <p:panelGrid columns="2" style="width:248px; heigth:300px; margin:5px 0px" columnClasses="label,value" 
        layout="grid" styleClass="ui-panelgrid-blank">
            <f:facet name="header">
                 
					  <p:commandButton value="Seç" type="Button" action="#{kasaBean.ReddiyatAktar(kasa.id)}" update=":reddiyatyap"/>
					
            </f:facet>
 			
 			
 			  <p:graphicImage value="img/paracikisi.png" height="55" width="225" />
 			<h:outputLabel value=""/>
 			
             
            <h:outputLabel value=""/>
            <h:outputLabel value=""/>
 				
            <h:outputText value="İcra Dosya No" />
            <h:outputText value="#{kasa.icraDosyaNo}" />
 
            <h:outputText value="Ad Soyad" />
            <h:outputText value="#{kasa.borcluAdi}" />
 
            <h:outputText value="Reddiyat Türü" />
            <h:outputText value="#{kasa.reddiyatTuru}" style="color:red"/>
 
            <h:outputText value="Tutar" />
            <h:outputText value="#{kasa.aktifTutarTL}" style="color:green"/>
            
            <h:outputText value="Tarih" />
            <h:outputText value="#{kasa.tarih}" style="color:green"/>
            
            
        </p:panelGrid>
 
        <f:facet name="footer">
                Reddiyat işlemi için bekleyen kayıtların listesidir.
        </f:facet>
    </p:carousel>
		
<!-- 							</p:panel> -->
						</p:column>
						
				
				</p:row>
			</p:panelGrid>
		</p:panel>

</div>


</h:form>
			
<div id="cleared"></div>
</div>


	<h:form id="tahsilatyap">
			<p:dialog header="TAHSİLAT İŞLEMİ KAYIT PANELİ" widgetVar="frmtahsilatyap"
				minHeight="340" height="%100" width="%100">
				<ui:include src="frm_tahsilat_paneli.xhtml" />
			</p:dialog>
		</h:form>
	
		<h:form id="reddiyatyap">
			<p:dialog header="REDDİYAT İŞLEMİ KAYIT PANELİ" widgetVar="frmreddiyatyap"
				minHeight="340" height="%100" width="%100">
				<ui:include src="frm_reddiyat_paneli.xhtml" />
			</p:dialog>
		</h:form>
	
	<h:form id="tahsilatmakbuzbekle">
			<p:dialog header="TAHSİLAT MAKBUZU BEKLEME" widgetVar="tahsilatmakbuzbekleme"
				minHeight="340" >
				<ui:include src="KasaForm/tahsilat_makbuzu_bekleme.xhtml" />
			</p:dialog>
		</h:form>	
		
		<h:form id="hitambekle">
			<p:dialog header="HİTAM BEKLEME" widgetVar="hitambekleme"
				minHeight="340" >
				<ui:include src="KasaForm/hitam_bekleme.xhtml" />
			</p:dialog>
		</h:form>	
		
		<h:form id="reddiyatbekle">
			<p:dialog header="REDDİYAT BEKLEME" widgetVar="reddiyatbekleme"
				minHeight="340">
				<ui:include src="KasaForm/reddiyat_bekleme.xhtml" />
			</p:dialog>
		</h:form>	

        <h:form id="indirimbekle">
			<p:dialog header="İNDİRİM BEKLEME" widgetVar="indirimbekleme"
				minHeight="340" height="%100" width="%100">
				<ui:include src="KasaForm/indirim_bekleme.xhtml" />
			</p:dialog>
		</h:form>	
		
		<h:form id="tahsilatmakbuzonaylanan">
			<p:dialog header="TAHSİLAT MAKBUZU ONAYDAN GELEN" widgetVar="tahsilatmakbuzonaylanan"
				minHeight="340" >
				<ui:include src="KasaForm/tahsilat_makbuzu_onaydan_gelen.xhtml" />
			</p:dialog>
		</h:form>	
		
		<h:form id="hitamonaylanan">
			<p:dialog header="HİTAM ONAYDAN GELEN" widgetVar="hitamonaylanan"
				minHeight="340" >
				<ui:include src="KasaForm/hitam_onaydan_gelen.xhtml" />
			</p:dialog>
		</h:form>	
		
		<h:form id="reddiyatonaylanan">
			<p:dialog header="REDDİYAT ONAYDAN GELEN" widgetVar="reddiyatonaylanan"
				minHeight="340">
				<ui:include src="KasaForm/reddiyat_onaydan_gelen.xhtml" />
			</p:dialog>
		</h:form>	

        <h:form id="indirimonaylanan">
			<p:dialog header="İNDİRİM ONAYDAN GELEN" widgetVar="indirimonaylanan"
				minHeight="340" height="%100" width="%100">
				<ui:include src="KasaForm/indirim_onaydan_gelen.xhtml" />
			</p:dialog>
		</h:form>	


</div>
</h:body>
</html>
